**Synchronzied可以应用在普通方法，静态方法，以及代码块中。**

1. 当应用在代码块中的时候，在代码块的开始处会有monitorenter标志加锁成功，在代码块的结束部分，会有monitorexit标志解锁成功。
2. 当该关键字应用于方法时，编译为字节码之后，会被翻译为和普通方法一样的invokevirtual和areturn指令，但是该方法的acc_flag字段会被设置为1，表示同步方法。

在JDK1.6之前，Synchronzied的实现基于操作系统的互斥锁实现，由于其用户态到内核态频繁的切换，消耗系统的性能，属于重量级锁。

在现在的JDK中，加入了偏向锁，轻量级锁，重量级锁，以及自旋锁（属于锁的优化）。

**什么是锁的降级，升级/膨胀？**
```
锁的降级在java的隐式锁中，表现为从重量级锁-》轻量级锁-》偏向锁。在JDK内部，会根据竞争情况自动对锁进行降级实现锁的优化。
在显式锁中，锁的降级表现为写锁-》读锁，具体为当同一线程持有当前对象的写锁时，如果有读请求，则可尝试让其进行写模式，然后获取读锁，释放写锁，实现锁的降级。

锁的升级在java的隐式锁中，表现为从偏向锁-》轻量级锁-》重量级锁。关于锁的升级后面详细说明。
在显式锁中，锁的升级表现为读锁-》写锁。
```

当不存在锁的竞争的时候，如果开启了偏向锁的设置（-XX:UserBiasedLocking），则JVM会

