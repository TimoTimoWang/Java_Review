java中的文件拷贝主要有三种方式来实现。

#### 一、使用输入输出流
可以使用java.io包下的FileInputStream从源文件中读取然后为目标文件构建一个ileOutputStream输出流来实现。
具体代码实现如下：
```
public static void copyFileByStream(File source, File dest) throws
IOException {
try (InputStream is = new FileInputStream(source);
OutputStream os = new FileOutputStream(dest);){
byte[] buffer = new byte[1024];
int length;
while ((length = is.read(buffer)) > 0) {
os.write(buffer, 0, length);
}
}
}
```

当我们使用输入输出流进行读写时，实际上是进行了多次上下文切换，比如应用读取数据时，先
在内核态将数据从磁盘读取到内核缓存，再切换到用户态将数据从内核缓存读取到用户缓存。

![输入输出流拷贝](https://github.com/ljcan/Review/blob/master/Java/pictures/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81%E6%8B%B7%E8%B4%9D.png)

#### 二、TransferTo与TransferFrom实现
 java.nio 类库提供的 transferTo 或 transferFrom 方法实现。
 ```
 public static void copyFileByChannel(File source, File dest) throws
IOException {
try (FileChannel sourceChannel = new FileInputStream(source)
.getChannel();
FileChannel targetChannel = new FileOutputStream(dest).getChannel
();){
for (long count = sourceChannel.size() ;count>0 ;) {
long transferred = sourceChannel.transferTo(
sourceChannel.position(), count, targetChannel); 
sourceChannel...
count -= transferred;
}
}
}
 ```
 
 #### 三、使用传统的Files.copy实现
 
 
 **对于 Copy 的效率，这个其实与操作系统和配置等情况相关，总体上来说，NIO
transferTo/From 的方式可能更快，因为它更能利用现代操作系统底层机制，避免不必要拷贝
和上下文切换。**
 
